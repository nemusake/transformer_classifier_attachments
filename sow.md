# 決算短信センチメント分析ツール 拡張SOW

## 🎯 拡張計画（3段階）

### **フェーズ1: 長文対応（1-2日）**
- **目標**: 512トークン → 8kトークンへ拡張
- **実装**: ModernBERT-Japanese (`llm-jp/llm-jp-modernbert-base`) 導入
- **効果**: 16倍長い文章を分割せずに処理
- **コマンド**: `uv run python transformer.py --model modernbert -v`

### **フェーズ2: ABSA機能（1-2週間）**
- **目標**: 売上・利益・コスト等の個別センチメント分析
- **実装**: アスペクト辞書 + 個別スコア算出
- **効果**: 「売上好調、利益悪化」等の詳細分析
- **コマンド**: `uv run python transformer.py --aspect-analysis -v`

### **フェーズ3: 根拠提示（1ヶ月）**
- **目標**: なぜその判定になったかの説明
- **実装**: Qwen2.5-7B + 根拠文抽出
- **効果**: 説明可能AI、投資判断の根拠明示
- **コマンド**: `uv run python transformer.py --with-reasoning -v`

---

## 📋 実装優先度

1. **最優先**: フェーズ1（即効性・低リスク）
2. **中期**: フェーズ2（実用性向上）
3. **長期**: フェーズ3（差別化機能）

---

## 🛠 必要リソース

- **GPU**: 8GB VRAM推奨（フェーズ3のみ）
- **時間**: 累計1.5ヶ月
- **技術難易度**: ⭐⭐☆（フェーズ1） → ⭐⭐⭐⭐（フェーズ3）

---

## ✅ 期待効果

| フェーズ | 現在 | 完了後 | 改善率 |
|---------|------|--------|--------|
| 長文処理 | 400文字 | 6,000文字 | **15倍** |
| 分析粒度 | 全体のみ | 5項目別 | **詳細化** |
| 説明性 | スコアのみ | 根拠付き | **可視化** |

**推奨**: まずフェーズ1から開始